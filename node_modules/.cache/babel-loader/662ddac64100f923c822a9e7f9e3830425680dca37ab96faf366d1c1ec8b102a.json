{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar types = require('./types.js');\nclass StackFrame {\n  constructor() {\n    this.memoryManaged = new Set();\n  }\n  add(memoryManageable) {\n    this.memoryManaged.add(memoryManageable);\n    memoryManageable[types.RETAINED_BY].add(this);\n    memoryManageable[types.RETAIN_METHOD]();\n  }\n  release() {\n    for (const memoryManaged of this.memoryManaged) {\n      memoryManaged[types.RETAINED_BY].delete(this);\n      memoryManaged[types.RELEASE_METHOD]();\n    }\n    this.memoryManaged.clear();\n  }\n}\nfunction isMemoryManageable(value) {\n  return Boolean(value && value[types.RETAIN_METHOD] && value[types.RELEASE_METHOD]);\n}\nfunction retain(value, {\n  deep = true\n} = {}) {\n  return retainInternal(value, deep, new Map());\n}\nfunction retainInternal(value, deep, seen) {\n  const seenValue = seen.get(value);\n  if (seenValue != null) return seenValue;\n  const canRetain = isMemoryManageable(value);\n  if (canRetain) {\n    value[types.RETAIN_METHOD]();\n  }\n  seen.set(value, canRetain);\n  if (deep) {\n    if (Array.isArray(value)) {\n      const nestedCanRetain = value.reduce((canRetain, item) => retainInternal(item, deep, seen) || canRetain, canRetain);\n      seen.set(value, nestedCanRetain);\n      return nestedCanRetain;\n    }\n    if (isBasicObject(value)) {\n      const nestedCanRetain = Object.keys(value).reduce((canRetain, key) => retainInternal(value[key], deep, seen) || canRetain, canRetain);\n      seen.set(value, nestedCanRetain);\n      return nestedCanRetain;\n    }\n  }\n  seen.set(value, canRetain);\n  return canRetain;\n}\nfunction release(value, {\n  deep = true\n} = {}) {\n  return releaseInternal(value, deep, new Map());\n}\nfunction releaseInternal(value, deep, seen) {\n  const seenValue = seen.get(value);\n  if (seenValue != null) return seenValue;\n  const canRelease = isMemoryManageable(value);\n  if (canRelease) {\n    value[types.RELEASE_METHOD]();\n  }\n  seen.set(value, canRelease);\n  if (deep) {\n    if (Array.isArray(value)) {\n      const nestedCanRelease = value.reduce((canRelease, item) => releaseInternal(item, deep, seen) || canRelease, canRelease);\n      seen.set(value, nestedCanRelease);\n      return nestedCanRelease;\n    }\n    if (isBasicObject(value)) {\n      const nestedCanRelease = Object.keys(value).reduce((canRelease, key) => releaseInternal(value[key], deep, seen) || canRelease, canRelease);\n      seen.set(value, nestedCanRelease);\n      return nestedCanRelease;\n    }\n  }\n  return canRelease;\n}\nfunction isBasicObject(value) {\n  if (value == null || typeof value !== 'object') return false;\n  const prototype = Object.getPrototypeOf(value);\n  return prototype == null || prototype === Object.prototype;\n}\nexports.RELEASE_METHOD = types.RELEASE_METHOD;\nexports.RETAINED_BY = types.RETAINED_BY;\nexports.RETAIN_METHOD = types.RETAIN_METHOD;\nexports.StackFrame = StackFrame;\nexports.isBasicObject = isBasicObject;\nexports.isMemoryManageable = isMemoryManageable;\nexports.release = release;\nexports.releaseInternal = releaseInternal;\nexports.retain = retain;","map":{"version":3,"names":["Object","defineProperty","exports","value","types","require","StackFrame","constructor","memoryManaged","Set","add","memoryManageable","RETAINED_BY","RETAIN_METHOD","release","delete","RELEASE_METHOD","clear","isMemoryManageable","Boolean","retain","deep","retainInternal","Map","seen","seenValue","get","canRetain","set","Array","isArray","nestedCanRetain","reduce","item","isBasicObject","keys","key","releaseInternal","canRelease","nestedCanRelease","prototype","getPrototypeOf"],"sources":["/Users/raghavvherugu/Desktop/Projects/name/Jila/node_modules/@remote-ui/rpc/build/cjs/memory.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar types = require('./types.js');\n\nclass StackFrame {\n  constructor() {\n    this.memoryManaged = new Set();\n  }\n\n  add(memoryManageable) {\n    this.memoryManaged.add(memoryManageable);\n    memoryManageable[types.RETAINED_BY].add(this);\n    memoryManageable[types.RETAIN_METHOD]();\n  }\n\n  release() {\n    for (const memoryManaged of this.memoryManaged) {\n      memoryManaged[types.RETAINED_BY].delete(this);\n      memoryManaged[types.RELEASE_METHOD]();\n    }\n\n    this.memoryManaged.clear();\n  }\n\n}\nfunction isMemoryManageable(value) {\n  return Boolean(value && value[types.RETAIN_METHOD] && value[types.RELEASE_METHOD]);\n}\nfunction retain(value, {\n  deep = true\n} = {}) {\n  return retainInternal(value, deep, new Map());\n}\n\nfunction retainInternal(value, deep, seen) {\n  const seenValue = seen.get(value);\n  if (seenValue != null) return seenValue;\n  const canRetain = isMemoryManageable(value);\n\n  if (canRetain) {\n    value[types.RETAIN_METHOD]();\n  }\n\n  seen.set(value, canRetain);\n\n  if (deep) {\n    if (Array.isArray(value)) {\n      const nestedCanRetain = value.reduce((canRetain, item) => retainInternal(item, deep, seen) || canRetain, canRetain);\n      seen.set(value, nestedCanRetain);\n      return nestedCanRetain;\n    }\n\n    if (isBasicObject(value)) {\n      const nestedCanRetain = Object.keys(value).reduce((canRetain, key) => retainInternal(value[key], deep, seen) || canRetain, canRetain);\n      seen.set(value, nestedCanRetain);\n      return nestedCanRetain;\n    }\n  }\n\n  seen.set(value, canRetain);\n  return canRetain;\n}\n\nfunction release(value, {\n  deep = true\n} = {}) {\n  return releaseInternal(value, deep, new Map());\n}\nfunction releaseInternal(value, deep, seen) {\n  const seenValue = seen.get(value);\n  if (seenValue != null) return seenValue;\n  const canRelease = isMemoryManageable(value);\n\n  if (canRelease) {\n    value[types.RELEASE_METHOD]();\n  }\n\n  seen.set(value, canRelease);\n\n  if (deep) {\n    if (Array.isArray(value)) {\n      const nestedCanRelease = value.reduce((canRelease, item) => releaseInternal(item, deep, seen) || canRelease, canRelease);\n      seen.set(value, nestedCanRelease);\n      return nestedCanRelease;\n    }\n\n    if (isBasicObject(value)) {\n      const nestedCanRelease = Object.keys(value).reduce((canRelease, key) => releaseInternal(value[key], deep, seen) || canRelease, canRelease);\n      seen.set(value, nestedCanRelease);\n      return nestedCanRelease;\n    }\n  }\n\n  return canRelease;\n}\nfunction isBasicObject(value) {\n  if (value == null || typeof value !== 'object') return false;\n  const prototype = Object.getPrototypeOf(value);\n  return prototype == null || prototype === Object.prototype;\n}\n\nexports.RELEASE_METHOD = types.RELEASE_METHOD;\nexports.RETAINED_BY = types.RETAINED_BY;\nexports.RETAIN_METHOD = types.RETAIN_METHOD;\nexports.StackFrame = StackFrame;\nexports.isBasicObject = isBasicObject;\nexports.isMemoryManageable = isMemoryManageable;\nexports.release = release;\nexports.releaseInternal = releaseInternal;\nexports.retain = retain;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}